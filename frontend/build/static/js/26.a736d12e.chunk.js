(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[26],{359:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f}));var r=n(84),a=n.n(r),s=n(85),c=n(10),o=n(72),u=n(91),i=function e(){Object(o.a)(this,e),this.addCms=function(e){var t={Authorization:JSON.parse(localStorage.getItem("authUser")).token},n={formdata:e};return u.a.post("/cms",n,{headers:t})},this.updateCms=function(e,t){var n={Authorization:JSON.parse(localStorage.getItem("authUser")).token},r={formdata:t};return u.a.put("/cms/".concat(e),r,{headers:n})},this.getCms=function(){var e={Authorization:JSON.parse(localStorage.getItem("authUser")).token};return u.a.get("/allcms",{headers:e})},this.getCmsById=function(e){var t={Authorization:JSON.parse(localStorage.getItem("authUser")).token};return u.a.get("/getcmsbyid/".concat(e),{headers:t})},this.deleteCms=function(e){var t={Authorization:JSON.parse(localStorage.getItem("authUser")).token};return u.a.delete("/cms/".concat(e),{headers:t})}},m=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s,o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e){return n({type:c.c,message:e}),{success:!0,message:e}},r=function(e){return n({type:c.a,message:e}),{success:!1,error:e}},t.prev=2,n({type:c.b}),o=new i,t.next=7,o.addCms(e).then((function(e){return e.data.success?s(e.data.message):r(e.data.message)}));case 7:return u=t.sent,t.abrupt("return",u);case 11:if(t.prev=11,t.t0=t.catch(2),!t.t0.response){t.next=17;break}return t.abrupt("return",r(t.t0.response.data.message));case 17:return t.abrupt("return",r("Something went wrong!"));case 18:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e,n){return t({type:c.o,message:e,cms:n}),{success:!0,message:e}},n=function(e){return t({type:c.m,message:e}),{success:!1,error:e}},e.prev=2,t({type:c.n}),s=new i,e.next=7,s.getCms().then((function(e){return e.data.success?r(e.data.message,e.data.data):n(e.data.message)}));case 7:return o=e.sent,e.abrupt("return",o);case 11:if(e.prev=11,e.t0=e.catch(2),!e.t0.response){e.next=17;break}return e.abrupt("return",n(e.t0.response.data.message));case 17:return e.abrupt("return",n("Something went wrong!"));case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s,o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e,t){return n({type:c.l,message:e,cmsdetail:t}),{success:!0,message:e}},r=function(e){return n({type:c.j,message:e}),{success:!1,error:e}},t.prev=2,n({type:c.k}),o=new i,t.next=7,o.getCmsById(e).then((function(e){return e.data.success?s(e.data.message,e.data.data):r(e.data.message)}));case 7:return u=t.sent,t.abrupt("return",u);case 11:if(t.prev=11,t.t0=t.catch(2),!t.t0.response){t.next=17;break}return t.abrupt("return",r(t.t0.response.data.message));case 17:return t.abrupt("return",r("Something went wrong!"));case 18:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s,o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e){return n({type:c.f,message:e}),{success:!0,message:e}},r=function(e){return n({type:c.d,message:e}),{success:!1,error:e}},t.prev=2,n({type:c.e}),o=new i,t.next=7,o.deleteCms(e).then((function(e){return e.data.success?s(e.data.message):r(e.data.message)}));case 7:return u=t.sent,t.abrupt("return",u);case 11:if(t.prev=11,t.t0=t.catch(2),!t.t0.response){t.next=17;break}return t.abrupt("return",r(t.t0.response.data.message));case 17:return t.abrupt("return",r("Something went wrong!"));case 18:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s,o,u,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(e){return r({type:c.i,message:e}),{success:!0,message:e}},s=function(e){return r({type:c.g,message:e}),{success:!1,error:e}},n.prev=2,r({type:c.h}),u=new i,n.next=7,u.updateCms(e,t).then((function(e){return e.data.success?o(e.data.message):s(e.data.message)}));case 7:return m=n.sent,n.abrupt("return",m);case 11:if(n.prev=11,n.t0=n.catch(2),!n.t0.response){n.next=17;break}return n.abrupt("return",s(n.t0.response.data.message));case 17:return n.abrupt("return",s("Something went wrong!"));case 18:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()}},89:function(e,t,n){"use strict";var r=n(72),a=n(78),s=n(80),c=n(79),o=n(0),u=n.n(o),i=n(4),m=n(106),p=n(131),d=["dashboard","adddocument","editdocument","documents","cms","flipbook","photobooth"],l=["signup","signin","verify","reset","forgetpass"];t.a=function(e){var t=function(t){Object(s.a)(o,t);var n=Object(c.a)(o);function o(){return Object(r.a)(this,o),n.apply(this,arguments)}return Object(a.a)(o,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("authUser"));!e&&d.includes(window.location.pathname.split("/")[1])&&this.props.history.push(m.p),e&&l.includes(window.location.pathname.split("/")[1])&&this.props.history.push(m.d),e&&"/"===window.location.pathname&&this.props.history.push(m.d)}},{key:"render",value:function(){return u.a.createElement(e,this.props)}}]),o}(u.a.Component);return Object(p.a)(i.g)(t)}},91:function(e,t,n){"use strict";var r=n(132),a=n.n(r);t.a=a.a.create({baseURL:"http://3.135.194.11:5000",responseType:"json"})},914:function(e,t,n){"use strict";n.r(t);var r=n(84),a=n.n(r),s=n(85),c=n(72),o=n(78),u=n(80),i=n(79),m=n(0),p=n.n(m),d=n(25),l=n(359),f=n(855),h=n.n(f),b=n(17),g=n(856),v=n.n(g),y=(n(858),n(89)),w=n(106),O=n(26),k=(n(138),n(184),function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).deleteCms=function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete!")){e.next=11;break}return e.next=4,r.props.deletecms(t);case 4:if(!(n=e.sent).success){e.next=10;break}return O.store.addNotification({title:"Success",message:n.message,type:"default",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}}),e.next=9,r.props.getcms();case 9:r.setState({data:r.props.cms,tabledata:{columns:r.state.columns,data:r.props.cms}});case 10:n.success||O.store.addNotification({title:"Error",message:n.error,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log(n),O.store.addNotification({title:"Success",message:"Code successfully copied!",type:"default",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}})}catch(r){console.log("Oops, unable to copy",r)}document.body.removeChild(t)},r.copyCode=function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById(t+"copycode").value,r.copyToClipboard(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getCms=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.getcms();case 2:r.setState({data:r.props.cms,tabledata:{columns:r.state.columns,data:r.props.cms}});case 3:case"end":return e.stop()}}),e)}))),r.state={data:[],columns:[{name:"Form Id",selector:"_id",sortable:!1},{name:"Action",sortable:!1,cell:function(e){return p.a.createElement("div",null,p.a.createElement(b.b,{to:"/cms/".concat(e._id),className:"btn btn-primary btn-sm"},"View Form"))}},{name:"Action",sortable:!1,cell:function(e){return p.a.createElement("div",null,p.a.createElement("button",{onClick:function(){r.deleteCms(e._id)},className:"btn btn-primary btn-sm"},"Delete Form"))}},{name:"Action",sortable:!1,cell:function(e){return p.a.createElement("div",null,p.a.createElement(b.b,{to:"/editcms/".concat(e._id),className:"btn btn-primary btn-sm"},"Edit Form"))}},{name:"Action",sortable:!1,cell:function(e){return p.a.createElement("div",null,p.a.createElement("input",{type:"hidden",id:"".concat(e._id,"copycode"),value:"sdfsdf"}),p.a.createElement("button",{onClick:function(){r.copyCode(e._id)},className:"btn btn-primary btn-sm"},"Copy code"))}}],tableData:{}},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getCms()}},{key:"render",value:function(){return p.a.createElement("div",{className:"container mb-5 bg-white rounded p-5"},p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-12 table-responsive"},p.a.createElement("div",{className:"d-flex justify-content-end"},p.a.createElement(b.b,{to:w.a,className:"btn btn-primary"},"Add Form")),p.a.createElement("div",null,p.a.createElement(v.a,Object.assign({filter:!0,export:!1,print:!1},this.state.tabledata),p.a.createElement(h.a,{title:"Forms",columns:this.state.columns,data:this.state.data,pagination:!0,highlightOnHover:!0}))))))}}]),n}(m.Component));t.default=Object(d.b)((function(e){return{loading:e.cmsReducer.loading,error:e.cmsReducer.error,message:e.cmsReducer.message,cms:e.cmsReducer.usercms}}),(function(e){return{getcms:function(){return e(l.e())},deletecms:function(t){return e(l.b(t))}}}))(Object(y.a)(k))}}]);
//# sourceMappingURL=26.a736d12e.chunk.js.map
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[28],{239:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return b}));var r=n(84),a=n.n(r),o=n(85),s=n(5),c=n(72),u=n(91),i=function e(){Object(c.a)(this,e),this.updateProfile=function(e,t){var n=JSON.parse(localStorage.getItem("authUser")),r={Authorization:n.token},a={userid:n.userid,name:t};return u.a.post("/updateprofile",a,{headers:r})},this.editDocument=function(e,t,n,r,a){var o={Authorization:JSON.parse(localStorage.getItem("authUser")).token},s=new FormData;return s.append("documentname",t),s.append("documenttype",n),s.append("document",r),s.append("theme",a),u.a.put("/document/".concat(e),s,{headers:o})},this.addDocument=function(e,t,n,r){var a=JSON.parse(localStorage.getItem("authUser")),o={Authorization:a.token},s=new FormData;return n.forEach((function(e){s.append("document",e)})),s.append("userid",a.userid),s.append("documentname",e),s.append("documenttype",t),s.append("theme",r),u.a.post("/document",s,{headers:o})},this.getDocument=function(){console.log("Documents service");var e={Authorization:JSON.parse(localStorage.getItem("authUser")).token};return u.a.get("/documents",{headers:e})},this.getDocumentById=function(e){var t={Authorization:JSON.parse(localStorage.getItem("authUser")).token};return u.a.get("/getdocumentbyid/".concat(e),{headers:t})},this.deleteDocument=function(e){var t={Authorization:JSON.parse(localStorage.getItem("authUser")).token};return u.a.delete("/document/".concat(e),{headers:t})},this.updateDocImage=function(e,t){console.log("Doc",t);var n={Authorization:JSON.parse(localStorage.getItem("authUser")).token},r=new FormData;return t.forEach((function(e){r.append("document",e)})),r.append("documentid",e),u.a.post("/updatedocimage/".concat(e),r,{headers:n})},this.updateBackground=function(e,t){var n={Authorization:JSON.parse(localStorage.getItem("authUser")).token},r={documentid:e,color:t};return u.a.post("/updatebackground/".concat(e),r,{headers:n})}},p=function(e,t,n,r){return function(){var c=Object(o.a)(a.a.mark((function o(c){var u,p,d,m;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return p=function(e){return c({type:s.c,message:e}),{success:!0,message:e}},u=function(e){return c({type:s.a,message:e}),{success:!1,error:e}},a.prev=2,c({type:s.b}),d=new i,a.next=7,d.addDocument(e,t,n,r).then((function(e){return e.data.success?p(e.data.message):u(e.data.message)}));case 7:return m=a.sent,a.abrupt("return",m);case 11:if(a.prev=11,a.t0=a.catch(2),!a.t0.response){a.next=17;break}return a.abrupt("return",u(a.t0.response.data.message));case 17:return a.abrupt("return",u("Something went wrong!"));case 18:case"end":return a.stop()}}),o,null,[[2,11]])})));return function(e){return c.apply(this,arguments)}}()},d=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e,n){return t({type:s.r,message:e,documents:n}),{success:!0,message:e}},n=function(e){return t({type:s.p,message:e}),{success:!1,error:e}},e.prev=2,t({type:s.q}),o=new i,e.next=7,o.getDocument().then((function(e){return e.data.success?r(e.data.message,e.data.data):n(e.data.message)}));case 7:return c=e.sent,e.abrupt("return",c);case 11:if(e.prev=11,e.t0=e.catch(2),!e.t0.response){e.next=17;break}return e.abrupt("return",n(e.t0.response.data.message));case 17:return e.abrupt("return",n("Something went wrong!"));case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o,c,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(e,t){return n({type:s.o,message:e,documentdetail:t}),{success:!0,message:e}},r=function(e){return n({type:s.m,message:e}),{success:!1,error:e}},t.prev=2,n({type:s.n}),c=new i,t.next=7,c.getDocumentById(e).then((function(e){return e.data.success?o(e.data.message,e.data.data):r(e.data.message)}));case 7:return u=t.sent,t.abrupt("return",u);case 11:if(t.prev=11,t.t0=t.catch(2),!t.t0.response){t.next=17;break}return t.abrupt("return",r(t.t0.response.data.message));case 17:return t.abrupt("return",r("Something went wrong!"));case 18:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o,c,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(e){return n({type:s.f,message:e}),{success:!0,message:e}},r=function(e){return n({type:s.d,message:e}),{success:!1,error:e}},t.prev=2,n({type:s.e}),c=new i,t.next=7,c.deleteDocument(e).then((function(e){return e.data.success?o(e.data.message):r(e.data.message)}));case 7:return u=t.sent,t.abrupt("return",u);case 11:if(t.prev=11,t.t0=t.catch(2),!t.t0.response){t.next=17;break}return t.abrupt("return",r(t.t0.response.data.message));case 17:return t.abrupt("return",r("Something went wrong!"));case 18:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t,n,r,c){return function(){var u=Object(o.a)(a.a.mark((function o(u){var p,d,m,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d=function(e){return u({type:s.i,message:e}),{success:!0,message:e}},p=function(e){return u({type:s.g,message:e}),{success:!1,error:e}},a.prev=2,u({type:s.h}),m=new i,a.next=7,m.editDocument(e,t,n,r,c).then((function(e){return e.data.success?d(e.data.message):p(e.data.message)}));case 7:return l=a.sent,a.abrupt("return",l);case 11:if(a.prev=11,a.t0=a.catch(2),!a.t0.response){a.next=17;break}return a.abrupt("return",p(a.t0.response.data.message));case 17:return a.abrupt("return",p("Something went wrong!"));case 18:case"end":return a.stop()}}),o,null,[[2,11]])})));return function(e){return u.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(o.a)(a.a.mark((function n(r){var o,c,u,p;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(e){return r({type:s.y,message:e}),{success:!0,message:e}},o=function(e){return r({type:s.w,message:e}),{success:!1,error:e}},n.prev=2,r({type:s.x}),u=new i,n.next=7,u.updateDocImage(e,t).then((function(e){return e.data.success?c(e.data.message):o(e.data.message)}));case 7:return p=n.sent,n.abrupt("return",p);case 11:if(n.prev=11,n.t0=n.catch(2),console.log("Error",n.t0),!n.t0.response){n.next=18;break}return n.abrupt("return",o(n.t0.response.data.message));case 18:return n.abrupt("return",o("Something went wrong!"));case 19:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(o.a)(a.a.mark((function n(r){var o,c,u,p;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(e){return r({type:s.v,message:e}),{success:!0,message:e}},o=function(e){return r({type:s.t,message:e}),{success:!1,error:e}},n.prev=2,r({type:s.u}),u=new i,n.next=7,u.updateBackground(e,t).then((function(e){return e.data.success?c(e.data.message):o(e.data.message)}));case 7:return p=n.sent,n.abrupt("return",p);case 11:if(n.prev=11,n.t0=n.catch(2),!n.t0.response){n.next=17;break}return n.abrupt("return",o(n.t0.response.data.message));case 17:return n.abrupt("return",o("Something went wrong!"));case 18:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:s.s,backimage:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},89:function(e,t,n){"use strict";var r=n(72),a=n(78),o=n(80),s=n(79),c=n(0),u=n.n(c),i=n(4),p=n(106),d=n(131),m=["dashboard","adddocument","editdocument","documents","cms","flipbook","photobooth"],l=["signup","signin","verify","reset","forgetpass"];t.a=function(e){var t=function(t){Object(o.a)(c,t);var n=Object(s.a)(c);function c(){return Object(r.a)(this,c),n.apply(this,arguments)}return Object(a.a)(c,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("authUser"));!e&&m.includes(window.location.pathname.split("/")[1])&&this.props.history.push(p.p),e&&l.includes(window.location.pathname.split("/")[1])&&this.props.history.push(p.d),e&&"/"===window.location.pathname&&this.props.history.push(p.d)}},{key:"render",value:function(){return u.a.createElement(e,this.props)}}]),c}(u.a.Component);return Object(d.a)(i.g)(t)}},91:function(e,t,n){"use strict";var r=n(132),a=n.n(r);t.a=a.a.create({baseURL:"http://3.135.194.11:5000",responseType:"json"})},911:function(e,t,n){"use strict";n.r(t);var r=n(84),a=n.n(r),o=n(85),s=n(72),c=n(78),u=n(80),i=n(79),p=n(0),d=n.n(p),m=n(25),l=n(239),f=n(855),g=n.n(f),h=n(17),b=n(856),v=n.n(b),y=(n(858),n(89)),w=n(106),k=n(26),O=(n(138),n(184),{headCells:{style:{fontSize:14,background:"#DCDCDC",fontWeight:"bold"}}}),x=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).deleteFlipBook=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete!")){e.next=11;break}return e.next=4,r.props.deleteflipbook(t);case 4:if(!(n=e.sent).success){e.next=10;break}return k.store.addNotification({title:"Success",message:n.message,type:"default",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}}),e.next=9,r.props.getdocument();case 9:r.setState({data:r.props.documents,tabledata:{columns:r.state.columns,data:r.props.documents}});case 10:n.success||k.store.addNotification({title:"Error",message:n.error,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log(n),k.store.addNotification({title:"Success",message:"Code successfully copied!",type:"default",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}})}catch(r){console.log("Oops, unable to copy",r)}document.body.removeChild(t)},r.copyCode=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.getElementById(t+"copycode").value,r.copyToClipboard(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getDocument=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.getdocument();case 2:r.setState({data:r.props.documents,tabledata:{columns:r.state.columns,data:r.props.documents}});case 3:case"end":return e.stop()}}),e)}))),r.state={data:[],columns:[{name:"Title",selector:"title",sortable:!0},{name:"Type",selector:"type",sortable:!0,right:!0},{name:"Action",sortable:!1,cell:function(e){return d.a.createElement("div",null,d.a.createElement("a",{href:"/flipbook/".concat(e._id),className:"btn btn-primary btn-sm"},"View Flipbook"))}},{name:"Action",sortable:!1,cell:function(e){return d.a.createElement("div",null,d.a.createElement("button",{onClick:function(){r.deleteFlipBook(e._id)},className:"btn btn-primary btn-sm"},"Delete Flipbook"))}},{name:"Action",sortable:!1,cell:function(e){return d.a.createElement("div",null,d.a.createElement(h.b,{to:"/editflipbook/".concat(e._id),className:"btn btn-primary btn-sm"},"Edit Flipbook"))}},{name:"Action",sortable:!1,cell:function(e){return d.a.createElement("div",null,d.a.createElement("input",{type:"hidden",id:"".concat(e._id,"copycode"),value:'<iframe src="'.concat(window.location.href.split("/")[0],"//").concat(window.location.href.split("/")[2],"/flipbookvideopreview?document=").concat(e.documenturl,"&type=").concat(e.type,"&theme=").concat(e.theme,"&backimage=").concat(e.backgroundimage,"&backcolor=").concat(e.backgroundcolor,'"></iframe>')}),d.a.createElement("button",{onClick:function(){r.copyCode(e._id)},className:"btn btn-primary btn-sm"},"Copy code"))}}],tableData:{}},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getDocument()}},{key:"render",value:function(){return d.a.createElement("div",{className:"container mb-5 bg-white rounded p-5"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-12 table-responsive"},d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement(h.b,{to:w.b,className:"btn btn-primary"},"Add FlipBook"),d.a.createElement(h.b,{target:"_blank",to:w.h,className:"btn btn-primary ml-2"},"Flipbook Demo")),d.a.createElement("div",null,d.a.createElement(v.a,Object.assign({filter:!0,export:!1,print:!1},this.state.tabledata),d.a.createElement(g.a,{title:"Flip Book",columns:this.state.columns,data:this.state.data,customStyles:O,pagination:!0,highlightOnHover:!0}))))))}}]),n}(p.Component);t.default=Object(m.b)((function(e){return{loading:e.documentReducer.loading,error:e.documentReducer.error,message:e.documentReducer.message,documents:e.documentReducer.userdocument}}),(function(e){return{getdocument:function(){return e(l.e())},deleteflipbook:function(t){return e(l.b(t))}}}))(Object(y.a)(x))}}]);
//# sourceMappingURL=28.a7aad4b9.chunk.js.map